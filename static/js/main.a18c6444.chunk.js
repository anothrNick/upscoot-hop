(this["webpackJsonpupscoot-hop"]=this["webpackJsonpupscoot-hop"]||[]).push([[0],{185:function(e,t,a){e.exports=a(377)},375:function(e,t,a){},377:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),o=a(8),r=a.n(o),c=a(98),s=a(40),i=a(379),u=a(384),m=a(168),p=a(83),d=a(84),g=a(94),h=a(85),f=a(52),E=a(96),y=a(380),v=a(55),b=a(29),k=a(381),S=a(387),w=a(382),O=a(385),j=a(10),C=a(383),I=a(386),N=a(126),F=y.a.Dragger,x=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(g.a)(this,Object(h.a)(t).call(this,e))).updateFileType=function(e){a.setState({fileType:e.target.value})},a.onChange=function(e){var t=e.target,n="checkbox"===t.type?t.checked:t.value,l=t.name;a.setState(Object(m.a)({},l,n))},a.postForm=function(){var e=a.state,t=e.fileList,n=e.url,l=e.pass,o=e.h,r=Object(f.a)(a);if((t.length>0||""!==n)&&""!==l){var c=new FormData;c.append("file",t[0]),c.append("url",n),c.append("pass",l),c.append("h",o);try{fetch("https://i.sc0tt.net/",{method:"POST",body:c,redirect:"follow"}).then((function(e){console.log(e),e.ok?r.setState({uploading:!1,msg:{type:"success",content:"Successfully uploaded!"}}):301===e.status?e.redirected&&(window.location.href=e.url):r.setState({uploading:!1,msg:{type:"error",content:"Failed to upload: "+e.status}})}),(function(e){r.setState({uploading:!1,msg:{type:"error",content:"Error uploading: "+JSON.stringify(e)}})})).catch((function(e){r.setState({uploading:!1,msg:{type:"error",content:"Error uploading: "+JSON.stringify(e)}})}))}catch(s){r.setState({uploading:!1,msg:{type:"error",content:"Error uploading: "+JSON.stringify(s)}})}}else a.setState({uploading:!1,msg:{type:"warning",content:"Please fill out all fields"}})},a.onSubmit=function(){a.setState({uploading:!0,msg:void 0},a.postForm)},a.state={fileType:"file",fileList:[],msg:void 0,url:"",pass:"",h:!1,uploading:!1},a}return Object(E.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.fileType,n=t.uploading,o=t.fileList,r=t.url,c=t.pass,s=t.h,i=t.msg,u={onRemove:function(t){e.setState((function(e){var a=e.fileList.indexOf(t),n=e.fileList.slice();return n.splice(a,1),{fileList:n}}))},beforeUpload:function(t){return e.setState((function(e){return{fileList:[t]}})),!1},fileList:o};return l.a.createElement(v.a,null,l.a.createElement(b.a,{xs:24,lg:{span:12,offset:6}},l.a.createElement(k.a,{title:"New File"},i&&l.a.createElement(S.a,{style:{marginBottom:"15px"},message:i.content,type:i.type,showIcon:!0}),l.a.createElement(w.a,{layout:"vertical"},l.a.createElement(w.a.Item,{label:"File"},l.a.createElement(O.a.Group,{defaultValue:"file",value:a,onChange:this.updateFileType},l.a.createElement(O.a.Button,{value:"file"},"File"),l.a.createElement(O.a.Button,{value:"url"},"URL")),"file"===a&&l.a.createElement(F,u,l.a.createElement("p",{className:"ant-upload-drag-icon"},l.a.createElement(j.a,{type:"inbox"})),l.a.createElement("p",{className:"ant-upload-text"},"Click or drag file to this area to upload")),"url"===a&&l.a.createElement(C.a,{placeholder:"url to file...",name:"url",value:r,onChange:this.onChange})),l.a.createElement(w.a.Item,{label:"Password"},l.a.createElement(C.a,{placeholder:"upscoot password...",type:"password",name:"pass",value:c,onChange:this.onChange})),l.a.createElement(w.a.Item,null,l.a.createElement(I.a,{name:"h",checked:s,onChange:this.onChange},"Public")),l.a.createElement(w.a.Item,{style:{marginBottom:"0px"}},l.a.createElement(N.a,{type:"primary",size:"large",loading:n,onClick:this.onSubmit},"Upload"))))))}}]),t}(n.Component),L=a(378),T=["jpg","png","gif","jpeg","webp"],M=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(g.a)(this,Object(h.a)(t).call(this,e))).parseData=function(e){console.log(e),a.setState({data:e,loading:!1})},a.getMedia=function(e){var t=e.split(".").pop().toLowerCase();return"mp4"===t||"webm"===t?l.a.createElement("video",{controls:!0,class:"media"},l.a.createElement("source",{src:e,type:"video/".concat(t)})):"mp3"===t?l.a.createElement("audio",{controls:!0,class:"media"},l.a.createElement("source",{src:e,type:"audio/".concat(t)})):T.includes(t)?l.a.createElement("a",{href:e},l.a.createElement("img",{src:e,alt:e})):e},a.splitUp=function(e,t){for(var a=e.length%t,n=a,l=Math.floor(e.length/t),o=[],r=0;r<e.length;r+=l){var c=l+r,s=!1;0!==a&&n&&(c++,n--,s=!0),o.push(e.slice(r,c)),s&&r++}return o},a.renderMedia=function(e){var t=a.state.data[e].map((function(e){return this.getMedia(e)}),Object(f.a)(a)),n=a.splitUp(t,4);return setTimeout((function(){return a.setState({loadingImages:!1})}),1),l.a.createElement("div",{className:"urow"},l.a.createElement("div",{className:"ucolumn"},n.length>0&&n[0]),l.a.createElement("div",{className:"ucolumn"},n.length>1&&n[1]),l.a.createElement("div",{className:"ucolumn"},n.length>2&&n[2]),l.a.createElement("div",{className:"ucolumn"},n.length>3&&n[3]))},a.handleClick=function(e){a.setState({loadingImages:!0,selectedItem:e.key})},a.state={query:window.location.search,data:{},loading:!0,loadingImages:!1,selectedItem:0},a}return Object(E.a)(t,e),Object(d.a)(t,[{key:"componentWillMount",value:function(){var e=this.state.query,t=this;fetch("https://i.sc0tt.net/hop.json".concat(e),{method:"GET"}).then((function(e){return e.json()})).then((function(e){t.parseData(e)}))}},{key:"render",value:function(){var e=this.state,t=e.loading,a=e.loadingImages,n=e.data,o=e.selectedItem;return l.a.createElement(l.a.Fragment,null,t&&l.a.createElement(L.a,{size:"large",className:"center"}),!t&&l.a.createElement(l.a.Fragment,null,l.a.createElement(u.a,{style:{backgroundColor:"transparent"},onClick:this.handleClick,mode:"horizontal",selectedKeys:[o+""]},Object.keys(n).map((function(e,t){return l.a.createElement(u.a.Item,{key:t},e)}))),a&&l.a.createElement(L.a,{size:"large",className:"center"}),!a&&this.renderMedia(Object.keys(n)[o])))}}]),t}(n.Component),U=(a(375),i.a.Header),z=i.a.Footer,B=i.a.Content;r.a.render(l.a.createElement((function(){return l.a.createElement(c.a,{basename:""},l.a.createElement(i.a,{className:"layout"},l.a.createElement(U,null,l.a.createElement("div",{className:"logo"}),l.a.createElement(u.a,{theme:"dark",mode:"horizontal",defaultSelectedKeys:[window.location.pathname],style:{lineHeight:"64px",float:"right"}},l.a.createElement(u.a.Item,{key:"/upload"},l.a.createElement(c.b,{to:"/upload"},"Upload")),l.a.createElement(u.a.Item,{key:"/"},l.a.createElement(c.b,{to:"/"},"Hop")))),l.a.createElement(B,{style:{padding:"50px"}},l.a.createElement(s.d,null,l.a.createElement(s.b,{path:"/upload",component:x}),l.a.createElement(s.b,{path:"/",component:M}),l.a.createElement(s.a,{to:"/"}))),l.a.createElement(z,{style:{textAlign:"center"}},"upscoot \xa9 2018 - ",(new Date).getFullYear())))}),null),document.getElementById("root"))}},[[185,1,2]]]);
//# sourceMappingURL=main.a18c6444.chunk.js.map